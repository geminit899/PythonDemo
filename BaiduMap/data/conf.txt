<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>百度在线版3.0 DEMO</title>
    <style type="text/css">
        html{height:100%}
        body{height:100%;margin:0px;padding:0px}
        #container{height:100%}
    </style>
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=bgAxo4El7xnLFuBPPnLUm5ACGgESp495"></script>
</head>
<body>
    <div id="container"></div>
</body>
<script type="text/javascript">
    function walkable(start, end, minutes) {
        var walk = new BMap.WalkingRoute(map, {
            onSearchComplete: (result) => {
                var time = result.getPlan(0).getDuration(false);  // 单位为秒
                if (time < minutes * 60) {
                    var searchCenterMarker = new BMap.Marker(end);
                    map.addOverlay(searchCenterMarker);
                }
            }
        });
        walk.search(start, end);
    }

    function searchNearby(center, tags, radius) {
        var searchCenterMarker = new BMap.Marker(center);
        map.addOverlay(searchCenterMarker);
        var local = new BMap.LocalSearch(map, {
            renderOptions:{map: map},
            onSearchComplete: (localResults) => {
                for (let i = 0; i < localResults.length; i++) {
                    let localResult = localResults[i];
                    var num = localResult.getNumPois();
                    for (let j = 0; j < num; j++) {
                        var localResultPoi = localResult.getPoi(j);
                        if (localResultPoi) {
                            var destine = localResultPoi.point;
                            walkable(center, destine, 15);
                        }
                    }
                }
            }
        });
        local.searchNearby(tags, center, radius);
    }

    /**
     * 墨卡托坐标解析
     * @param {} mocator
     * @return {}
     */
    var parseGeo = function(map, mocator) {
        if (typeof mocator != 'string') {
            return {};
        }
        var t = mocator.split("|");
        var n = parseInt(t[0]);
        var r = t[2];
        var o = r.split(";");
        if (n === 4) {
            for (var a = [], s = 0; s < o.length - 1; s++) {
                "1" === o[s].split("-")[0] && a.push(o[s].split("-")[1]);
            }
            o = a;
            o.push("");
        }
        var u = [];
        switch (n) {
            case 1:
                u.push(o[0]);
                break;
            case 2:
            case 3:
            case 4:
                for (var s = 0; s < o.length - 1; s++) {
                    var l = o[s];
                    if (l.length > 100) {
                        l = l.replace(/(-?[1-9]\d*\.\d*|-?0\.\d*[1-9]\d*|-?0?\.0+|0|-?[1-9]\d*),(-?[1-9]\d*\.\d*|-?0\.\d*[1-9]\d*|-?0?\.0+|0|-?[1-9]\d*)(,)/g,
                            "$1,$2;");
                        u.push(l);
                    } else {
                        for (var c = [], d = l.split(","), f = 0; f < d.length; f += 2) {
                            var p = d[f];
                            var h = d[f + 1];
                            c.push(p + "," + h);
                        }
                        u.push(c.join(";"))
                    }
                }
                break;
            default:
                break;
        }

        if (u.length <= 1) {
            u = u.toString();
        }

        var points = [];
        if (u) {
            var arr = u.split(";");
            if (arr) {
                for (var i = 0; i < arr.length; i++) {
                    var coord = arr[i].split(",");
                    if (coord && coord.length == 2) {
                        var mctXY = new BMap.Pixel(coord[0], coord[1]);
                        var project = map.getMapType().getProjection();
                        var point = project.pointToLngLat(mctXY);
                        points.push(new BMap.Point(point.lng, point.lat));
                    }
                }
            }
        }
        return points;
    };
</script>
<script type="text/javascript">
    var center = '';


    var map = new BMap.Map("container");          // 创建地图实例
    var point = new BMap.Point(parseFloat(center.split(',')[1]), parseFloat(center.split(',')[0]));  // 创建点坐标
    map.centerAndZoom(point, 16);                 // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
    var center_marker = new BMap.Marker(point, {strokeColor: 'green'});
    map.addOverlay(center_marker);

    var pathListSTR = '';
    pathList = pathListSTR.split(";");
    pathPoints = [];
    for (var j = 0; j < pathList.length; j++) {
        var path_point1 = new BMap.Point(pathList[j].split(",")[0], pathList[j].split(",")[1])
        pathPoints.push(path_point1);
        // var path_marker = new BMap.Marker(path_point);
        // map.addOverlay(path_marker);
    }
    var polygon1 = new BMap.Polyline(pathPoints, {strokeColor:"red", strokeWeight:2, strokeOpacity:0.5});
    map.addOverlay(polygon1);


    var pathList = [];
    pathPoints = [];
    for (var j = 0; j < pathList.length; j++) {
        var path_point = new BMap.Point(pathList[j].split(",")[0], pathList[j].split(",")[1])
        pathPoints.push(path_point);
        // var path_marker = new BMap.Marker(path_point);
        // map.addOverlay(path_marker);
    }
    var polygon = new BMap.Polyline(pathPoints, {strokeColor:"blue", strokeWeight:2, strokeOpacity:0.5});
    map.addOverlay(polygon);


    // all point
    // reachableList = ['36.582776,101.862473', '36.581537,101.863532', '36.585881,101.8606', '36.585298,101.86589', '36.580447,101.8735', '36.576605,101.875787', '36.588436,101.879004', '36.584095,101.868757', '36.584353,101.870041', '36.584057,101.86868', '36.583898,101.867437', '36.584091,101.86904', '36.583856,101.869536', '36.583103,101.869246', '36.583928,101.86845', '36.583269,101.869024', '36.584059,101.869191', '36.578473,101.873815', '36.584153,101.869592', '36.577085,101.874718', '36.583887,101.868229', '36.584059,101.867755', '36.582774,101.869066', '36.584566,101.870135', '36.58279,101.868777', '36.584624,101.870111', '36.576595,101.875715', '36.577195,101.874466', '36.58321,101.867237', '36.584596,101.870125', '36.584048,101.867763', '36.577566,101.873772', '36.585326,101.870319', '36.576221,101.876416', '36.577716,101.873605', '36.581543,101.872121', '36.585537,101.875453', '36.580321,101.874201', '36.581778,101.869985', '36.580179,101.867127', '36.581661,101.873123', '36.585363,101.870423', '36.581656,101.873692', '36.581961,101.874051', '36.578219,101.873667', '36.582563,101.867859', '36.581529,101.872293', '36.577858,101.873513', '36.582416,101.873959', '36.581543,101.872501', '36.586656,101.876211', '36.578562,101.873861', '36.582028,101.873979', '36.584959,101.876634', '36.575615,101.874194', '36.581654,101.873801', '36.576386,101.874755', '36.577016,101.873423', '36.584814,101.877041', '36.577553,101.873854', '36.583517,101.879442', '36.586134,101.875846', '36.584805,101.876891', '36.5784,101.873773', '36.57667,101.874462', '36.575816,101.87431', '36.575806,101.874374', '36.576186,101.874635', '36.57378,101.870738', '36.588095,101.877851', '36.583154,101.880098', '36.576453,101.874756', '36.573814,101.870755', '36.57643,101.874753', '36.577707,101.873467', '36.58066,101.8667', '36.580142,101.867181', '36.57706,101.875007', '36.5782,101.872727', '36.585182,101.865364', '36.581581,101.873449', '36.586608,101.877049', '36.585472,101.871293', '36.584441,101.877234', '36.576261,101.8764', '36.577147,101.874574', '36.577154,101.874568', '36.583697,101.868613', '36.583646,101.868063', '36.583576,101.869631', '36.585025,101.870161', '36.584028,101.867354', '36.584469,101.87043', '36.583287,101.869803', '36.584077,101.868432', '36.584113,101.868519', '36.58347,101.867983', '36.585434,101.870558', '36.584028,101.867974', '36.584516,101.87001', '36.584423,101.869999', '36.582845,101.867676', '36.584789,101.870132', '36.581657,101.87332', '36.583935,101.867485', '36.584468,101.870528', '36.584416,101.870381', '36.585379,101.870435', '36.584349,101.87036', '36.577984,101.873064', '36.580124,101.867291', '36.583497,101.868324', '36.581815,101.873973', '36.586576,101.875848', '36.585098,101.866069', '36.581589,101.870944', '36.584027,101.868094', '36.581925,101.868771', '36.580318,101.866857', '36.586439,101.875457', '36.582133,101.873892', '36.586302,101.875603', '36.581954,101.868712', '36.586651,101.875639', '36.582789,101.86771', '36.585033,101.870165', '36.581545,101.872329', '36.582861,101.867545', '36.585729,101.870745', '36.582905,101.873997', '36.582598,101.873986', '36.590106,101.860103', '36.581539,101.871896', '36.583115,101.874134', '36.577037,101.874824', '36.583327,101.874227', '36.579079,101.873591', '36.57807,101.873547', '36.582057,101.873984', '36.583258,101.874233', '36.584921,101.876657', '36.584751,101.877015', '36.585983,101.864661', '36.584797,101.876923', '36.576568,101.875858', '36.577956,101.873052', '36.578312,101.873741', '36.589978,101.859848', '36.586341,101.876873', '36.586607,101.877065', '36.583418,101.874255', '36.583669,101.874287', '36.5771,101.873366', '36.58558,101.876136', '36.577457,101.873965', '36.586865,101.877247', '36.589927,101.85993', '36.581973,101.873708', '36.58634,101.875518', '36.57608,101.874467', '36.577812,101.87341', '36.585188,101.876234', '36.590152,101.860019', '36.578105,101.873457', '36.584261,101.869965', '36.585512,101.870542', '36.581539,101.872064', '36.581669,101.869241', '36.585309,101.870843', '36.581963,101.868706', '36.585204,101.870777', '36.582026,101.868592', '36.585367,101.87037', '36.581523,101.872429', '36.580122,101.874664', '36.586536,101.864034', '36.581654,101.873845', '36.58338,101.874249', '36.582835,101.873998', '36.582538,101.874007', '36.577733,101.873418', '36.580067,101.874057', '36.577894,101.873503', '36.580069,101.865749', '36.576381,101.874631', '36.588283,101.864001', '36.584827,101.876855', '36.575201,101.873945', '36.576974,101.874963', '36.577785,101.873477', '36.576995,101.873668', '36.59119,101.858787', '36.576126,101.876571', '36.586807,101.877206', '36.576177,101.874651', '36.575973,101.876945', '36.575577,101.873255', '36.591171,101.856955', '36.575946,101.876866', '36.575033,101.877239', '36.590172,101.878253', '36.591845,101.856982', '36.583592,101.869654', '36.584284,101.86978', '36.585037,101.870622', '36.584117,101.86921', '36.58303,101.869225', '36.583952,101.870082', '36.584139,101.870225', '36.581626,101.869247', '36.585124,101.870297', '36.581518,101.871832', '36.579869,101.874404', '36.580096,101.867336', '36.581773,101.873981', '36.582135,101.87389', '36.576137,101.874504', '36.576112,101.874581', '36.576312,101.874619', '36.57716,101.87326', '36.586488,101.876981', '36.582962,101.88043', '36.575316,101.874056', '36.583769,101.869911', '36.57772,101.873603', '36.584559,101.870055', '36.582545,101.873962', '36.58227,101.873935', '36.576283,101.876361', '36.577727,101.873586', '36.583554,101.867701', '36.58319,101.863046', '36.575234,101.859316', '36.578371,101.87015', '36.578306,101.873719', '36.577584,101.87373', '36.575939,101.877017', '36.575957,101.877138', '36.57693,101.875067', '36.575695,101.872788', '36.584104,101.872934', '36.584678,101.878471', '36.576117,101.872459', '36.576367,101.872875', '36.577641,101.873395', '36.584223,101.869698', '36.584089,101.868334', '36.581668,101.873682', '36.577088,101.872597', '36.583728,101.878717', '36.576814,101.875321', '36.577195,101.872748', '36.577847,101.873429', '36.584733,101.87001', '36.585593,101.870967', '36.582391,101.874112', '36.576774,101.872669', '36.591121,101.858845', '36.576785,101.87533', '36.586225,101.875826', '36.583039,101.880271', '36.591253,101.858762', '36.583179,101.867283', '36.589315,101.862809', '36.582067,101.860961', '36.575942,101.867902', '36.581672,101.869264', '36.581702,101.869135', '36.580016,101.865958', '36.581538,101.860461', '36.582708,101.859451', '36.575555,101.860388', '36.584861,101.866314', '36.574828,101.863033', '36.57422,101.86447', '36.581721,101.869025', '36.585164,101.865963', '36.575386,101.867642', '36.580087,101.86738', '36.573877,101.865511', '36.574995,101.867395', '36.575696,101.861036', '36.573851,101.866979', '36.575419,101.861548', '36.576877,101.875685', '36.580285,101.866845', '36.583443,101.879469', '36.573734,101.865512', '36.575544,101.860946', '36.58191,101.868706', '36.581954,101.868712', '36.580248,101.86695', '36.575176,101.878436', '36.574101,101.865251', '36.57427,101.864305', '36.589613,101.860807', '36.588405,101.862142', '36.589527,101.860888', '36.591741,101.85707', '36.585101,101.865439', '36.585278,101.865321', '36.589154,101.861239', '36.576158,101.859312', '36.583409,101.879828', '36.575633,101.877555', '36.582762,101.881014', '36.575485,101.877733', '36.58232,101.860441', '36.576372,101.858789', '36.589324,101.861078', '36.589494,101.86092', '36.575408,101.877951', '36.582939,101.880531', '36.576302,101.858969', '36.582984,101.880385', '36.574679,101.868058', '36.575638,101.877572', '36.574985,101.877718', '36.58947,101.860942', '36.576365,101.858805', '36.575133,101.878687', '36.575782,101.860189', '36.576198,101.859223', '36.591541,101.857811', '36.591682,101.857301', '36.574843,101.859993', '36.590804,101.859428', '36.591656,101.857362', '36.583442,101.867341', '36.584076,101.867065', '36.584555,101.866879', '36.580101,101.866757', '36.583805,101.874534', '36.581211,101.873842', '36.580806,101.874428', '36.578594,101.872976', '36.584687,101.876463', '36.578063,101.873268', '36.582641,101.860032', '36.587955,101.868802', '36.581435,101.874351', '36.58508,101.875513', '36.577484,101.873034', '36.577484,101.873034', '36.587068,101.863862', '36.587955,101.868802', '36.581884,101.860356', '36.582952,101.88151', '36.587955,101.868802', '36.584487,101.874983', '36.587955,101.868802', '36.584487,101.874983', '36.583581,101.874434', '36.574146,101.863179', '36.576075,101.85831', '36.582814,101.857049', '36.580931,101.864556', '36.578991,101.873769', '36.577249,101.872838', '36.587955,101.868802', '36.587955,101.868802', '36.582328,101.874582', '36.580122,101.866835', '36.584487,101.874983', '36.585117,101.875543', '36.58762,101.877362', '36.582638,101.858372', '36.57729,101.873306', '36.576167,101.8584', '36.58862,101.862359', '36.59111,101.878324', '36.58394,101.877904', '36.577484,101.873034', '36.58862,101.862501', '36.577484,101.873034', '36.577484,101.873034', '36.575833,101.877071', '36.576613,101.875003', '36.582704,101.858528', '36.576613,101.875003', '36.588304,101.862321', '36.582638,101.858372', '36.588329,101.877944', '36.576167,101.8584', '36.575473,101.877267', '36.59111,101.878324', '36.57397,101.873286', '36.58928,101.878566', '36.576167,101.8584', '36.576167,101.8584', '36.576167,101.8584', '36.576167,101.8584', '36.591599,101.858025', '36.577002,101.873541', '36.58198,101.873887', '36.576899,101.873825', '36.577566,101.873834', '36.581297,101.861055', '36.581328,101.861', '36.576927,101.87509', '36.58374,101.869543', '36.581908,101.874118', '36.577118,101.87328', '36.57691,101.873802', '36.576842,101.873809', '36.576946,101.87503', '36.577632,101.873769', '36.585528,101.869473', '36.582122,101.871418', '36.584661,101.87176', '36.583926,101.865976', '36.584569,101.869805', '36.582609,101.871199', '36.584162,101.868124', '36.585567,101.869269', '36.586431,101.869531', '36.585008,101.869514', '36.584187,101.869122', '36.586024,101.870421', '36.585373,101.870117', '36.584774,101.868709', '36.582807,101.869997', '36.586388,101.868598', '36.585563,101.868429', '36.582124,101.870456', '36.582495,101.871827', '36.582496,101.872204', '36.585607,101.867387', '36.582568,101.870446', '36.579979,101.868417', '36.584695,101.867494', '36.587005,101.874696', '36.582348,101.870456', '36.582258,101.870917', '36.582571,101.87118', '36.58349,101.86683', '36.58338,101.866556', '36.582856,101.871791', '36.582463,101.871753', '36.583182,101.872795', '36.583242,101.866298', '36.581877,101.871235', '36.581618,101.870799', '36.582812,101.872433', '36.58516,101.867018', '36.584092,101.866233', '36.581643,101.873638', '36.582877,101.872476', '36.583183,101.873284', '36.583438,101.872795', '36.582617,101.872042', '36.582839,101.872261', '36.583811,101.865737', '36.583444,101.873279', '36.581552,101.871931', '36.582352,101.87252', '36.582322,101.873156', '36.581906,101.872316', '36.582052,101.873145', '36.581556,101.872749', '36.584569,101.86537', '36.582871,101.873171', '36.581788,101.872993', '36.582206,101.872929', '36.58202,101.873158', '36.578335,101.874006', '36.58503,101.876235', '36.585123,101.876938', '36.577009,101.873522', '36.586505,101.878738', '36.575925,101.877189', '36.579174,101.859052', '36.589658,101.860765', '36.574542,101.871804', '36.57671,101.85979', '36.578018,101.857952', '36.590172,101.879332', '36.590387,101.857757', '36.574923,101.878813', '36.589759,101.8575', '36.589447,101.857699', '36.581694,101.873787', '36.581775,101.873783', '36.58019,101.873984', '36.587456,101.878599', '36.578437,101.874157', '36.585352,101.87981', '36.57685,101.873356', '36.588531,101.861284', '36.584726,101.877178', '36.577887,101.873619', '36.57828,101.874699', '36.578121,101.873997', '36.588811,101.861601', '36.577638,101.873818', '36.578053,101.874596', '36.574249,101.871101', '36.587798,101.862509', '36.576474,101.859707', '36.577796,101.874691', '36.577583,101.874357', '36.588323,101.862075', '36.57698,101.873455', '36.586668,101.878935', '36.588196,101.860959', '36.579209,101.859105', '36.587947,101.861766', '36.577033,101.87356', '36.576762,101.87326', '36.576193,101.873789', '36.575538,101.873918', '36.576517,101.873612', '36.576601,101.874079', '36.575779,101.873584', '36.579427,101.859965', '36.575712,101.873462', '36.576057,101.874365', '36.589804,101.858513', '36.579175,101.859813', '36.575957,101.87429', '36.57962,101.859557', '36.575622,101.873958', '36.574816,101.870682', '36.579088,101.85757', '36.579851,101.859064', '36.578932,101.859654', '36.575335,101.876914', '36.573833,101.873056', '36.57371,101.874799', '36.590454,101.857414', '36.584081,101.868231', '36.579736,101.868356', '36.586289,101.867453', '36.585392,101.865815', '36.578459,101.872211', '36.583862,101.868889', '36.583486,101.867961', '36.581667,101.873819', '36.582787,101.867702', '36.581644,101.873606', '36.581667,101.873819', '36.579143,101.871718', '36.583614,101.879009', '36.585696,101.866053', '36.582893,101.873998', '36.582476,101.85941', '36.575247,101.859599', '36.575108,101.869726', '36.583206,101.867237', '36.58207,101.860537', '36.577171,101.872858', '36.576887,101.873674', '36.583641,101.879088', '36.582579,101.857382', '36.583987,101.870118', '36.589826,101.86003', '36.585355,101.879809', '36.589893,101.860573', '36.574103,101.857625', '36.583174,101.867089', '36.582928,101.880793', '36.577007,101.873551', '36.58359,101.879028', '36.582622,101.859418', '36.586428,101.8814', '36.585509,101.865099', '36.582236,101.874556', '36.574891,101.87884', '36.579971,101.874161', '36.57398,101.859874', '36.581653,101.873562', '36.578036,101.872209', '36.581928,101.860919', '36.58212,101.860186', '36.574589,101.862771', '36.585411,101.879742', '36.576299,101.875329', '36.581322,101.856902', '36.575218,101.861062', '36.590906,101.859259', '36.574202,101.857783', '36.574119,101.879196', '36.573774,101.858827', '36.58732,101.862909', '36.578511,101.871302', '36.575251,101.867421', '36.578523,101.871414', '36.588487,101.859105', '36.585175,101.866003', '36.588178,101.86386', '36.578484,101.870198', '36.588341,101.864017', '36.58481,101.876895', '36.57851,101.871289', '36.578488,101.871355', '36.57533,101.873908', '36.587572,101.86305', '36.588479,101.859122', '36.585273,101.865958', '36.576829,101.871469', '36.576953,101.873555', '36.576953,101.873555', '36.576953,101.873555', '36.573716,101.873391', '36.574531,101.879226']
    // ;

    // reachable point
    // reachableList = ['36.585298,101.86589', '36.584057,101.86868', '36.583856,101.869536', '36.583269,101.869024', '36.584153,101.869592', '36.584059,101.867755', '36.58279,101.868777', '36.584048,101.867763', '36.581656,101.873692', '36.582563,101.867859', '36.582416,101.873959', '36.578562,101.873861', '36.5784,101.873773', '36.583697,101.868613', '36.585025,101.870161', '36.583287,101.869803', '36.58347,101.867983', '36.584516,101.87001', '36.584789,101.870132', '36.584468,101.870528', '36.584349,101.87036', '36.583497,101.868324', '36.585098,101.866069', '36.581925,101.868771', '36.582133,101.873892', '36.581545,101.872329', '36.582905,101.873997', '36.581539,101.871896', '36.583327,101.874227', '36.582057,101.873984', '36.583418,101.874255', '36.585512,101.870542', '36.585309,101.870843', '36.582026,101.868592', '36.580122,101.874664', '36.58338,101.874249', '36.585037,101.870622', '36.583952,101.870082', '36.585124,101.870297', '36.584559,101.870055', '36.584104,101.872934', '36.584089,101.868334', '36.582391,101.874112', '36.581702,101.869135', '36.585164,101.865963', '36.585278,101.865321', '36.584555,101.866879', '36.581211,101.873842', '36.587955,101.868802', '36.587955,101.868802', '36.587955,101.868802', '36.578991,101.873769', '36.587955,101.868802', '36.58862,101.862359', '36.582122,101.871418', '36.584569,101.869805', '36.585567,101.869269', '36.584187,101.869122', '36.584774,101.868709', '36.585563,101.868429', '36.58349,101.86683', '36.58516,101.867018', '36.582877,101.872476', '36.582322,101.873156', '36.581556,101.872749', '36.581788,101.872993', '36.58019,101.873984', '36.588196,101.860959', '36.581667,101.873819', '36.581667,101.873819', '36.585696,101.866053', '36.581653,101.873562', '36.585175,101.866003', '36.588341,101.864017', '36.580447,101.8735', '36.584095,101.868757', '36.583898,101.867437', '36.583103,101.869246', '36.584059,101.869191', '36.582774,101.869066', '36.584624,101.870111', '36.58321,101.867237', '36.580321,101.874201', '36.581661,101.873123', '36.581961,101.874051', '36.581529,101.872293', '36.581543,101.872501', '36.582028,101.873979', '36.581654,101.873801', '36.585182,101.865364', '36.585472,101.871293', '36.583646,101.868063', '36.584028,101.867354', '36.584077,101.868432', '36.585434,101.870558', '36.584423,101.869999', '36.581657,101.87332', '36.584416,101.870381', '36.581815,101.873973', '36.581589,101.870944', '36.582789,101.86771', '36.582861,101.867545', '36.582598,101.873986', '36.583115,101.874134', '36.579079,101.873591', '36.583258,101.874233', '36.585983,101.864661', '36.583669,101.874287', '36.581973,101.873708', '36.581539,101.872064', '36.581963,101.868706', '36.585367,101.87037', '36.586536,101.864034', '36.582835,101.873998', '36.583592,101.869654', '36.584117,101.86921', '36.584139,101.870225', '36.581518,101.871832', '36.581773,101.873981', '36.583769,101.869911', '36.582545,101.873962', '36.581668,101.873682', '36.584733,101.87001', '36.583179,101.867283', '36.58191,101.868706', '36.583442,101.867341', '36.580806,101.874428', '36.581435,101.874351', '36.583581,101.874434', '36.582328,101.874582', '36.58862,101.862501', '36.58198,101.873887', '36.58374,101.869543', '36.584661,101.87176', '36.586431,101.869531', '36.586024,101.870421', '36.585607,101.867387', '36.584695,101.867494', '36.58338,101.866556', '36.583182,101.872795', '36.581618,101.870799', '36.584092,101.866233', '36.581552,101.871931', '36.581906,101.872316', '36.584569,101.86537', '36.582206,101.872929', '36.581694,101.873787', '36.588811,101.861601', '36.586289,101.867453', '36.583862,101.868889', '36.582787,101.867702', '36.582893,101.873998', '36.583174,101.867089', '36.585509,101.865099', '36.579971,101.874161', '36.58732,101.862909', '36.588178,101.86386', '36.585273,101.865958', '36.584353,101.870041', '36.584091,101.86904', '36.583928,101.86845', '36.578473,101.873815', '36.583887,101.868229', '36.584566,101.870135', '36.584596,101.870125', '36.585326,101.870319', '36.581543,101.872121', '36.581778,101.869985', '36.585363,101.870423', '36.581581,101.873449', '36.583576,101.869631', '36.584469,101.87043', '36.584113,101.868519', '36.584028,101.867974', '36.582845,101.867676', '36.583935,101.867485', '36.585379,101.870435', '36.584027,101.868094', '36.581954,101.868712', '36.585033,101.870165', '36.585729,101.870745', '36.584261,101.869965', '36.581669,101.869241', '36.585204,101.870777', '36.581523,101.872429', '36.581654,101.873845', '36.582538,101.874007', '36.588283,101.864001', '36.584284,101.86978', '36.58303,101.869225', '36.579869,101.874404', '36.582135,101.87389', '36.58227,101.873935', '36.583554,101.867701', '36.584223,101.869698', '36.585593,101.870967', '36.581672,101.869264', '36.584861,101.866314', '36.581721,101.869025', '36.581954,101.868712', '36.588405,101.862142', '36.585101,101.865439', '36.584076,101.867065', '36.583805,101.874534', '36.578594,101.872976', '36.587068,101.863862', '36.587955,101.868802', '36.587955,101.868802', '36.588304,101.862321', '36.581908,101.874118', '36.585528,101.869473', '36.583926,101.865976', '36.584162,101.868124', '36.585008,101.869514', '36.585373,101.870117', '36.586388,101.868598', '36.582495,101.871827', '36.582568,101.870446', '36.582571,101.87118', '36.582856,101.871791', '36.583242,101.866298', '36.582812,101.872433', '36.581643,101.873638', '36.583438,101.872795', '36.583811,101.865737', '36.582352,101.87252', '36.582052,101.873145', '36.582871,101.873171', '36.58202,101.873158', '36.581775,101.873783', '36.587798,101.862509', '36.584081,101.868231', '36.585392,101.865815', '36.583486,101.867961', '36.581644,101.873606', '36.583206,101.867237', '36.583987,101.870118', '36.582236,101.874556', '36.587572,101.86305']
    // ;

    // boundary point
    // reachableList = ['36.581721,101.869025', '36.581669,101.869241', '36.578594,101.872976', '36.5784,101.873773', '36.578473,101.873815', '36.578562,101.873861', '36.580122,101.874664', '36.582236,101.874556', '36.582328,101.874582', '36.583805,101.874534', '36.584104,101.872934', '36.585472,101.871293', '36.586024,101.870421', '36.587955,101.868802', '36.588341,101.864017', '36.58862,101.862501', '36.58862,101.862359', '36.588405,101.862142', '36.58732,101.862909', '36.586536,101.864034', '36.584569,101.86537', '36.583671,101.865514', '36.583242,101.866298', '36.582563,101.867859', '36.582026,101.868592', '36.58191,101.868706', '36.581721,101.869025']
    // ;
    //
    // for (var j = 0; j < reachableList.length; j++) {
    //     var surrunder_point = new BMap.Point(reachableList[j].split(",")[1], reachableList[j].split(",")[0])
    //     var path_marker = new BMap.Marker(surrunder_point);
    //     map.addOverlay(path_marker);
    // }



    // twoPointPathList = [['101.86907549023,36.581700148256', '101.86915004959,36.581823315914', '101.86925964286,36.581766731268', '101.86929198186,36.581753762438'],
    //     ['101.86929198186,36.581753762438', '101.86946984635,36.581684933414', '101.86958482945,36.581647983071', '101.87003398221,36.581532784827', '101.87010854157,36.581442220048', '101.87030706708,36.581396575359', '101.87101672844,36.581288549486', '101.87122513531,36.581275580575', '101.87147037272,36.581275580575', '101.87164913551,36.581277029615', '101.87174255929,36.581279203176', '101.87178657626,36.581279203176', '101.87225728835,36.581275580575', '101.8728366954,36.581278478656', '101.87387244165,36.581283550297', '101.87415001805,36.581284926886', '101.8742721876,36.581342236408', '101.87428296727,36.581256743047', '101.87435573002,36.580688716933', '101.87436022154,36.580635102005', '101.87436201816,36.580550332381', '101.87435752663,36.580490196608', '101.87434584866,36.580402528709', '101.87432967916,36.580272113468', '101.87425781472,36.580084460036', '101.87423535708,36.580033018281', '101.87422457741,36.5800097608', '101.87420211977,36.579952595187', '101.87412306889,36.579802616758', '101.87398383154,36.579538161325', '101.87391556032,36.579408396695', '101.8737826111,36.579127347922', '101.87373230599,36.578996205966', '101.87371883141,36.578970050002', '101.87367750936,36.57888100373', '101.87353467878,36.578584665108', '101.87342149229,36.578614371476', '101.87338466176,36.578623790566', '101.8732939329,36.578645526924', '101.87326159391,36.578646976014', '101.87322566168,36.578642628743', '101.87318883116,36.578629514474', '101.87315918708,36.57861140084', '101.87314301758,36.578598431475', '101.87312235655,36.578577419651', '101.87309540739,36.578540467807', '101.8730981023,36.578546191721'],
    //     ['101.8730981023,36.578546191721', '101.87309540739,36.578540467807', '101.87312235655,36.578577419651', '101.87314301758,36.578598431475', '101.87315918708,36.57861140084', '101.87318883116,36.578629514474', '101.87322566168,36.578642628743', '101.87326159391,36.578646976014', '101.8732939329,36.578645526924', '101.87338466176,36.578623790566', '101.87342149229,36.578614371476', '101.87353467878,36.578584665108', '101.8736038483,36.578562928734', '101.87355713642,36.57846801316'],
    //     ['101.87374757719,36.578244852415', '101.87374757719,36.578244852415'],
    //     ['101.8736038483,36.578562928734', '101.8736038483,36.578562928734'],
    //     ['101.87363798391,36.57863248511', '101.87374847549,36.578856369267', '101.87380237382,36.578949835275', '101.8738149501,36.578972296082', '101.87388591623,36.579096192671', '101.87401976376,36.579377314012', '101.87408713667,36.579504108093', '101.87422817063,36.579772910851', '101.8743045266,36.579918542139', '101.87433237407,36.579985923686', '101.87434045882,36.580004036995', '101.87436291646,36.58005685538', '101.87443567921,36.580246030393', '101.874614442,36.580237336032', '101.87459198437,36.580130830039'],
    //     ['101.87459198437,36.580130830039', '101.874614442,36.580237336032', '101.87443567921,36.580246030393', '101.87445634023,36.580390139271', '101.87446891651,36.580482951331', '101.87447340804,36.5805481588', '101.87447250973,36.580639449163', '101.8744671199,36.580697411242', '101.87439435715,36.58126681388', '101.87438447579,36.581342236408', '101.87431889949,36.581445842641', '101.87430542491,36.581828315068', '101.87431081474,36.582237012891'],
    //     ['101.87431081474,36.582237012891', '101.87431171305,36.58232975026'],
    //     ['101.87431171305,36.58232975026', '101.87432159441,36.583041216026', '101.87440693343,36.5834817129', '101.87446981482,36.583707031866', '101.87451023856,36.583810634898'],
    //     ['101.87451023856,36.583810634898', '101.87446981482,36.583707031866', '101.87440693343,36.5834817129', '101.87432159441,36.583041216026', '101.87430542491,36.581828315068', '101.87431889949,36.581445842641', '101.8741581028,36.58144149553', '101.87391556032,36.581434250343', '101.87377722127,36.581434250343', '101.87360654322,36.581432801305', '101.87282501743,36.581437075966', '101.87281423776,36.581529886756', '101.87279178012,36.581835560218', '101.87278549198,36.582053711354', '101.87278100046,36.5821080498', '101.87277830554,36.582129785168', '101.87277650893,36.582351485565', '101.8727720174,36.582739097461', '101.8727720174,36.582760108143', '101.87280974623,36.583070196161', '101.87301455989,36.58307447073', '101.8734888652,36.583084686225', '101.87349245842,36.583335291441', '101.87349694995,36.583609224679', '101.87314481419,36.583604153192', '101.87298132259,36.583594010217'],
    //     ['101.87240820367,36.584303290754', '101.8724135935,36.58490244294', '101.87239472909,36.584956779363', '101.87235340703,36.585007493323', '101.87230220362,36.585025605444', '101.87156199988,36.585055309312', '101.87157547446,36.585334887352', '101.87150720324,36.585477682583', '101.87129250823,36.585463192972'], ['101.87129250823,36.585463192972', '101.87150720324,36.585477682583', '101.8712556777,36.585686260222', '101.8711739319,36.58572038315', '101.87103379624,36.585779790336', '101.87092779619,36.585812391821', '101.8708316775,36.585829779274', '101.87067716895,36.585857309399', '101.87042833833,36.585848615677'], ['101.87042833833,36.585848615677', '101.86996211777,36.585834126136', '101.86979593125,36.585806596002', '101.86968184645,36.58574284197', '101.86965938881,36.585792106454', '101.86966747356,36.585876870272', '101.86974382953,36.586055091327', '101.86979323633,36.586169558289', '101.86979323633,36.586206506449', '101.86977077869,36.586246352484', '101.86970879561,36.586274606933', '101.86882037146,36.586267362204'], ['101.86882037146,36.586267362204', '101.86824365933,36.586263739839', '101.86812238808,36.586212302238', '101.86804962534,36.586150721965', '101.86800650667,36.586073855227', '101.86733277754,36.586065958451', '101.86726270971,36.586052120979', '101.86717647238,36.586018867569', '101.8671477266,36.585983295822', '101.86705969266,36.58581528973', '101.86692494684,36.585558824351', '101.86673720099,36.585190787785', '101.86673360776,36.585132829109', '101.86675876032,36.585040819622', '101.86744596403,36.584295248897', '101.86717198085,36.584117748237', '101.86715581135,36.584090289935', '101.86715670966,36.58404892134', '101.86716569271,36.584029432449', '101.86720252324,36.583988860765', '101.86736421823,36.583810634898', '101.86723576054,36.583720072815', '101.86691237056,36.584062759174', '101.86635003131,36.584635759215', '101.86574367509,36.585251571899', '101.86549753938,36.585502314914', '101.86510228496,36.585923961242', '101.86459384404,36.586454203557', '101.86455970843,36.586487601672', '101.86432525069,36.586719432007', '101.86427404728,36.586774491608', '101.86404587768,36.587016463596', '101.86395245391,36.587128755726', '101.86370541989,36.587392388021', '101.86350509776,36.587589513966', '101.86331465699,36.587785842498', '101.86332004683,36.587958987908', '101.86335328413,36.588545071345', '101.8640171319,36.588542173539'], ['101.8640171319,36.588542173539', '101.86335328413,36.588545071345', '101.86332004683,36.587958987908', '101.86331465699,36.587785842498', '101.86250797865,36.588623964063'], ['101.86250797865,36.588623964063', '101.86227441921,36.588868175993', '101.86212260558,36.588732631586', '101.86227801243,36.588569630244'], ['101.86227801243,36.588569630244', '101.86232562263,36.588518918645'], ['101.8619788767,36.588276226954', '101.86158182566,36.588603751887', '101.86151445275,36.588487839662', '101.86136263912,36.58821182297', '101.86123957127,36.587994486291', '101.86119465599,36.587912622648', '101.86117848649,36.587878573143', '101.8619141987,36.587630808201', '101.86254570748,36.587311320643', '101.86275591097,36.587170774674'], ['101.86275591097,36.587170774674', '101.86306492806,36.586964954054', '101.86311343656,36.586932353061', '101.86351228421,36.58683244904', '101.86377099619,36.587004147675', '101.86385274199,36.586915762772', '101.86410965737,36.586638291469'], ['101.86414289467,36.586601343518', '101.86427853881,36.586455000475', '101.86432165747,36.58641153219', '101.8648489628,36.585884115039', '101.86487501366,36.585858758353', '101.86489926791,36.585826156888', '101.86517774262,36.585548609187', '101.86552628516,36.585187889852', '101.86673001454,36.58393662469', '101.86661503144,36.58385410466', '101.86640123473,36.583693918465', '101.86610748882,36.583541121823', '101.86549125124,36.584206208822'], ['101.86549125124,36.584206208822', '101.86581733614,36.583853307715'], ['101.86581733614,36.583853307715', '101.86610748882,36.583541121823', '101.86635272623,36.583275230306'], ['101.86635272623,36.583275230306', '101.86610748882,36.583541121823', '101.86640123473,36.583693918465', '101.86661503144,36.58385410466', '101.86673001454,36.58393662469', '101.86795350665,36.582657228196', '101.86806579484,36.582552174586', '101.86822479491,36.582407924877', '101.86825354069,36.58238481302', '101.86814843894,36.582281932568', '101.86810352367,36.582234839358', '101.86782145574,36.582540582455'], ['101.86782145574,36.582540582455', '101.86810352367,36.582234839358', '101.86814843894,36.582281932568', '101.86825354069,36.58238481302', '101.86830743902,36.582342066934', '101.86852033742,36.582179051978', '101.86865598156,36.582089936989'], ['101.86865598156,36.582089936989', '101.86866137139,36.582087038939', '101.86875120194,36.5820283534', '101.86878533755,36.58201024057'], ['101.86878533755,36.58201024057', '101.86915004959,36.581823315914', '101.86907549023,36.581700148256']]
    // ;
    //
    // for (var i = 0; i < twoPointPathList.length; i++) {
    //     if (i !== 9) {
    //         continue
    //     }
    //     pathPoints = [];
    //     twoPointPath = twoPointPathList[i];
    //     for (var j = 0; j < twoPointPath.length; j++) {
    //         var path_point = new BMap.Point(twoPointPath[j].split(",")[0], twoPointPath[j].split(",")[1])
    //         pathPoints.push(path_point);
    //         // var path_marker = new BMap.Marker(path_point);
    //         // map.addOverlay(path_marker);
    //     }
    //     var polygon = new BMap.Polyline(pathPoints, {strokeColor:"blue", strokeWeight:2, strokeOpacity:0.5});
    //     map.addOverlay(polygon);
    // }

    // var path_point = new BMap.Point(101.874534,36.583805)
    // var path_marker = new BMap.Marker(path_point);
    // map.addOverlay(path_marker);
    // path_point = new BMap.Point(101.872934,36.584104)
    // path_marker = new BMap.Marker(path_point);
    // map.addOverlay(path_marker);



    // map.addEventListener("click", function(e){
    //     map.clearOverlays();
    //     var searchCenter = new BMap.Point(e.point.lng, e.point.lat);
    //     searchNearby(searchCenter, ["旅游景点", "医疗"], 3000)
    // });
    //
    // var geo1 = "4|12958834.896,4827540.16022;12958994.8503,4827752.85478|1-12958835.3412,4827701.85044,12958836.5892,4827702.59667,12958852.4593,4827705.15628,12958856.6928,4827710.19645,12958859.5884,4827716.83287,12958859.4729,4827728.68758,12958858.3287,4827750.0883,12958858.8631,4827751.93623,12958860.2895,4827752.85478,12958929.6682,4827752.0418,12958947.0838,4827746.30766,12958982.2926,4827746.94174,12958983.943,4827746.12227,12958984.6125,4827744.73043,12958985.1487,4827741.83593,12958987.7978,4827690.558,12958988.2471,4827681.30332,12958994.8503,4827554.25294,12958994.6734,4827550.20641,12958994.139,4827548.12805,12958992.3554,4827547.09814,12958851.4502,4827540.16022,12958848.3294,4827540.34792,12958846.5454,4827542.09069,12958845.6975,4827544.34962,12958836.429,4827651.65387,12958834.896,4827700.34895,12958835.3412,4827701.85044;";
    // //边界点
    // var map1 = parseGeo(map, geo1);
    // var polygon1 = new BMap.Polygon(map1, {strokeColor:"blue", strokeWeight:2, strokeOpacity:0.5});
    // map.addOverlay(polygon1);
    //
    // var geo2 = "4|12958999.85,4827570.15;12959102.85,4827823.67|1-12959100.85,4827822.17,12959102.85,4827573.65,12959007.85,4827570.15,12958999.85,4827750.65,12959023.85,4827751.64,12959024.85,4827823.67,12959100.85,4827822.17;";
    // //边界点
    // var map2 = parseGeo(map, geo2);
    // var polygon2 = new BMap.Polygon(map2, {strokeColor:"blue", strokeWeight:2, strokeOpacity:0.5});
    // map.addOverlay(polygon2);
</script>
</html>
